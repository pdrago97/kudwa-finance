INFO:     Will watch for changes in these directories: ['/home/pedro/projects/Kudwa']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [330301] using WatchFiles
/home/pedro/projects/Kudwa/venv/lib/python3.12/site-packages/crewai/telemetry/telemetry.py:6: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
/home/pedro/projects/Kudwa/venv/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:918: UserWarning: Mixing V1 models and V2 models (or constructs, like `TypeAdapter`) is not supported. Please upgrade `CrewAgentExecutor` to V2.
  warn(
INFO:     Started server process [330307]
INFO:     Waiting for application startup.
{"version": "1.0.0", "event": "Starting Kudwa Financial AI System", "logger": "app.main", "level": "info", "timestamp": "2025-08-16T00:05:56.129171Z"}
{"event": "Application startup completed successfully", "logger": "app.main", "level": "info", "timestamp": "2025-08-16T00:05:56.129270Z"}
INFO:     Application startup complete.
INFO:     127.0.0.1:53126 - "GET /dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:53126 - "GET /css/modern-dashboard.css HTTP/1.1" 304 Not Modified
INFO:     127.0.0.1:53114 - "GET /js/modern-dashboard.js HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_documents?select=id "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?select=id "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_datasets?select=id "HTTP/2 200 OK"
INFO:     127.0.0.1:53114 - "GET /api/v1/dashboard/stats HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?select=period_start%2Camount&observation_type=eq.revenue_stream&order=period_start.asc "HTTP/2 200 OK"
INFO:     127.0.0.1:53114 - "GET /api/v1/dashboard/revenue-trends HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?select=observation_type%2Camount&observation_type=in.%28expense_category%2Ccost_of_goods_sold%2Cnon_operating_expense%29 "HTTP/2 200 OK"
INFO:     127.0.0.1:53126 - "GET /api/v1/dashboard/expense-breakdown HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?select=observation_type%2Caccount_name%2Camount%2Ccurrency%2Cperiod_start%2Cperiod_end&order=created_at.desc&limit=10 "HTTP/2 200 OK"
INFO:     127.0.0.1:53138 - "GET /api/v1/dashboard/recent-observations HTTP/1.1" 200 OK
Database wipe requested - clearing all data
HTTP Request: DELETE https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?id=neq.00000000-0000-0000-0000-000000000000 "HTTP/2 200 OK"
Cleared 14 financial observations
HTTP Request: DELETE https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_datasets?id=neq.00000000-0000-0000-0000-000000000000 "HTTP/2 200 OK"
Cleared 1 datasets
HTTP Request: DELETE https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_relations?id=neq.00000000-0000-0000-0000-000000000000 "HTTP/2 200 OK"
Cleared 0 ontology relations
HTTP Request: DELETE https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?id=neq.00000000-0000-0000-0000-000000000000 "HTTP/2 200 OK"
Cleared 3 ontology classes
HTTP Request: DELETE https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_documents?id=neq.00000000-0000-0000-0000-000000000000 "HTTP/2 200 OK"
Cleared 1 documents
Database wipe completed successfully
INFO:     127.0.0.1:53142 - "POST /api/v1/admin/wipe-database HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_documents?select=id "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?select=id "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_datasets?select=id "HTTP/2 200 OK"
INFO:     127.0.0.1:53142 - "GET /api/v1/dashboard/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53144 - "GET /dashboard HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?select=period_start%2Camount&observation_type=eq.revenue_stream&order=period_start.asc "HTTP/2 200 OK"
INFO:     127.0.0.1:53144 - "GET /api/v1/dashboard/revenue-trends HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_documents?select=id "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?select=id "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_datasets?select=id "HTTP/2 200 OK"
INFO:     127.0.0.1:53142 - "GET /api/v1/dashboard/stats HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?select=period_start%2Camount&observation_type=eq.revenue_stream&order=period_start.asc "HTTP/2 200 OK"
INFO:     127.0.0.1:53142 - "GET /api/v1/dashboard/revenue-trends HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?select=observation_type%2Camount&observation_type=in.%28expense_category%2Ccost_of_goods_sold%2Cnon_operating_expense%29 "HTTP/2 200 OK"
INFO:     127.0.0.1:57912 - "GET /api/v1/dashboard/expense-breakdown HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?select=observation_type%2Caccount_name%2Camount%2Ccurrency%2Cperiod_start%2Cperiod_end&order=created_at.desc&limit=10 "HTTP/2 200 OK"
INFO:     127.0.0.1:57922 - "GET /api/v1/dashboard/recent-observations HTTP/1.1" 200 OK
{"filename": "data1.json", "content_type": "application/json", "user_id": "demo_user", "event": "Processing RootFi financial data file", "logger": "app.api.v1.endpoints.documents", "level": "info", "timestamp": "2025-08-16T00:06:30.782407Z"}
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_documents "HTTP/2 201 Created"
{"source_format": "quickbooks_pl", "document_id": "39538ac4-16a2-4f69-9b92-cd46079c77dc", "event": "Starting financial data parsing", "logger": "app.services.data_parser", "level": "info", "timestamp": "2025-08-16T00:06:32.545794Z"}
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=%2A&class_id=eq.revenue_account "HTTP/2 200 OK"
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes "HTTP/2 201 Created"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_datasets?select=id&source_document_id=eq.39538ac4-16a2-4f69-9b92-cd46079c77dc "HTTP/2 200 OK"
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_datasets "HTTP/2 201 Created"
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations "HTTP/2 201 Created"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=%2A&class_id=eq.expense_account "HTTP/2 200 OK"
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes "HTTP/2 201 Created"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_datasets?select=id&source_document_id=eq.39538ac4-16a2-4f69-9b92-cd46079c77dc "HTTP/2 200 OK"
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations "HTTP/2 201 Created"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=%2A&class_id=eq.expense_account "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_datasets?select=id&source_document_id=eq.39538ac4-16a2-4f69-9b92-cd46079c77dc "HTTP/2 200 OK"
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations "HTTP/2 201 Created"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=%2A&class_id=eq.expense_account "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_datasets?select=id&source_document_id=eq.39538ac4-16a2-4f69-9b92-cd46079c77dc "HTTP/2 200 OK"
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations "HTTP/2 201 Created"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=%2A&class_id=eq.expense_account "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_datasets?select=id&source_document_id=eq.39538ac4-16a2-4f69-9b92-cd46079c77dc "HTTP/2 200 OK"
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations "HTTP/2 201 Created"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=%2A&class_id=eq.expense_account "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_datasets?select=id&source_document_id=eq.39538ac4-16a2-4f69-9b92-cd46079c77dc "HTTP/2 200 OK"
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations "HTTP/2 201 Created"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=%2A&class_id=eq.expense_account "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_datasets?select=id&source_document_id=eq.39538ac4-16a2-4f69-9b92-cd46079c77dc "HTTP/2 200 OK"
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations "HTTP/2 201 Created"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=%2A&class_id=eq.expense_account "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_datasets?select=id&source_document_id=eq.39538ac4-16a2-4f69-9b92-cd46079c77dc "HTTP/2 200 OK"
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations "HTTP/2 201 Created"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=%2A&class_id=eq.expense_account "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_datasets?select=id&source_document_id=eq.39538ac4-16a2-4f69-9b92-cd46079c77dc "HTTP/2 200 OK"
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations "HTTP/2 201 Created"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=%2A&class_id=eq.expense_account "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_datasets?select=id&source_document_id=eq.39538ac4-16a2-4f69-9b92-cd46079c77dc "HTTP/2 200 OK"
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations "HTTP/2 201 Created"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=%2A&class_id=eq.expense_account "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_datasets?select=id&source_document_id=eq.39538ac4-16a2-4f69-9b92-cd46079c77dc "HTTP/2 200 OK"
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations "HTTP/2 201 Created"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=%2A&class_id=eq.expense_account "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_datasets?select=id&source_document_id=eq.39538ac4-16a2-4f69-9b92-cd46079c77dc "HTTP/2 200 OK"
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations "HTTP/2 201 Created"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=%2A&class_id=eq.expense_account "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_datasets?select=id&source_document_id=eq.39538ac4-16a2-4f69-9b92-cd46079c77dc "HTTP/2 200 OK"
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations "HTTP/2 201 Created"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=%2A&class_id=eq.company "HTTP/2 200 OK"
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes "HTTP/2 201 Created"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_datasets?select=id&source_document_id=eq.39538ac4-16a2-4f69-9b92-cd46079c77dc "HTTP/2 200 OK"
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations "HTTP/2 201 Created"
HTTP Request: PATCH https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_documents?id=eq.39538ac4-16a2-4f69-9b92-cd46079c77dc "HTTP/2 200 OK"
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00,  1.34it/s]Batches: 100%|██████████| 1/1 [00:00<00:00,  1.34it/s]
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_embeddings "HTTP/2 400 Bad Request"
{"error": "{'message': 'expected 1536 dimensions, not 384', 'code': '22000', 'hint': None, 'details': None}", "source_kind": "document", "event": "Failed to persist embedding", "logger": "app.services.embedding_service", "level": "warning", "timestamp": "2025-08-16T00:06:47.275779Z"}
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 43.86it/s]
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_embeddings "HTTP/2 400 Bad Request"
{"error": "{'message': 'expected 1536 dimensions, not 384', 'code': '22000', 'hint': None, 'details': None}", "source_kind": "entity", "event": "Failed to persist embedding", "logger": "app.services.embedding_service", "level": "warning", "timestamp": "2025-08-16T00:06:47.636640Z"}
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 45.53it/s]
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_embeddings "HTTP/2 400 Bad Request"
{"error": "{'message': 'expected 1536 dimensions, not 384', 'code': '22000', 'hint': None, 'details': None}", "source_kind": "entity", "event": "Failed to persist embedding", "logger": "app.services.embedding_service", "level": "warning", "timestamp": "2025-08-16T00:06:48.003143Z"}
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 38.27it/s]
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_embeddings "HTTP/2 400 Bad Request"
{"error": "{'message': 'expected 1536 dimensions, not 384', 'code': '22000', 'hint': None, 'details': None}", "source_kind": "entity", "event": "Failed to persist embedding", "logger": "app.services.embedding_service", "level": "warning", "timestamp": "2025-08-16T00:06:48.375481Z"}
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 43.77it/s]
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_embeddings "HTTP/2 400 Bad Request"
{"error": "{'message': 'expected 1536 dimensions, not 384', 'code': '22000', 'hint': None, 'details': None}", "source_kind": "entity", "event": "Failed to persist embedding", "logger": "app.services.embedding_service", "level": "warning", "timestamp": "2025-08-16T00:06:48.747206Z"}
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 43.52it/s]
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_embeddings "HTTP/2 400 Bad Request"
{"error": "{'message': 'expected 1536 dimensions, not 384', 'code': '22000', 'hint': None, 'details': None}", "source_kind": "entity", "event": "Failed to persist embedding", "logger": "app.services.embedding_service", "level": "warning", "timestamp": "2025-08-16T00:06:49.115024Z"}
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 43.72it/s]
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_embeddings "HTTP/2 400 Bad Request"
{"error": "{'message': 'expected 1536 dimensions, not 384', 'code': '22000', 'hint': None, 'details': None}", "source_kind": "entity", "event": "Failed to persist embedding", "logger": "app.services.embedding_service", "level": "warning", "timestamp": "2025-08-16T00:06:49.481263Z"}
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 44.30it/s]
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_embeddings "HTTP/2 400 Bad Request"
{"error": "{'message': 'expected 1536 dimensions, not 384', 'code': '22000', 'hint': None, 'details': None}", "source_kind": "entity", "event": "Failed to persist embedding", "logger": "app.services.embedding_service", "level": "warning", "timestamp": "2025-08-16T00:06:49.860901Z"}
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 44.36it/s]
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_embeddings "HTTP/2 400 Bad Request"
{"error": "{'message': 'expected 1536 dimensions, not 384', 'code': '22000', 'hint': None, 'details': None}", "source_kind": "entity", "event": "Failed to persist embedding", "logger": "app.services.embedding_service", "level": "warning", "timestamp": "2025-08-16T00:06:50.226256Z"}
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 44.35it/s]
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_embeddings "HTTP/2 400 Bad Request"
{"error": "{'message': 'expected 1536 dimensions, not 384', 'code': '22000', 'hint': None, 'details': None}", "source_kind": "entity", "event": "Failed to persist embedding", "logger": "app.services.embedding_service", "level": "warning", "timestamp": "2025-08-16T00:06:50.586981Z"}
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 45.24it/s]
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_embeddings "HTTP/2 400 Bad Request"
{"error": "{'message': 'expected 1536 dimensions, not 384', 'code': '22000', 'hint': None, 'details': None}", "source_kind": "entity", "event": "Failed to persist embedding", "logger": "app.services.embedding_service", "level": "warning", "timestamp": "2025-08-16T00:06:50.945338Z"}
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 44.14it/s]
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_embeddings "HTTP/2 400 Bad Request"
{"error": "{'message': 'expected 1536 dimensions, not 384', 'code': '22000', 'hint': None, 'details': None}", "source_kind": "entity", "event": "Failed to persist embedding", "logger": "app.services.embedding_service", "level": "warning", "timestamp": "2025-08-16T00:06:51.302136Z"}
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 43.74it/s]
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_embeddings "HTTP/2 400 Bad Request"
{"error": "{'message': 'expected 1536 dimensions, not 384', 'code': '22000', 'hint': None, 'details': None}", "source_kind": "entity", "event": "Failed to persist embedding", "logger": "app.services.embedding_service", "level": "warning", "timestamp": "2025-08-16T00:06:51.657187Z"}
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 43.70it/s]
HTTP Request: POST https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_embeddings "HTTP/2 400 Bad Request"
{"error": "{'message': 'expected 1536 dimensions, not 384', 'code': '22000', 'hint': None, 'details': None}", "source_kind": "entity", "event": "Failed to persist embedding", "logger": "app.services.embedding_service", "level": "warning", "timestamp": "2025-08-16T00:06:52.018586Z"}
INFO:     127.0.0.1:57922 - "POST /api/v1/documents/ingest-rootfi HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id%2Cclass_id%2Clabel%2Cclass_type%2Cstatus&order=class_id.asc "HTTP/2 200 OK"
INFO:     127.0.0.1:57912 - "GET /api/v1/dashboard/ontology/classes HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id%2Cclass_id%2Clabel%2Cclass_type "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?select=id%2Cobservation_type%2Caccount_name%2Camount%2Csource_document_id&limit=50 "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_documents?select=id%2Cfilename "HTTP/2 200 OK"
INFO:     127.0.0.1:53142 - "GET /api/v1/dashboard/knowledge-graph HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_documents?select=id%2Cfilename%2Ccontent_type%2Cfile_size%2Cprocessing_status%2Ccreated_at%2Cuploaded_by&order=created_at.desc "HTTP/2 200 OK"
INFO:     127.0.0.1:59528 - "GET /api/v1/dashboard/documents HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id%2Cclass_id%2Clabel%2Cclass_type%2Cstatus&order=class_id.asc "HTTP/2 200 OK"
INFO:     127.0.0.1:57922 - "GET /api/v1/dashboard/ontology/classes HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id%2Cclass_id%2Clabel%2Cclass_type "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?select=id%2Cobservation_type%2Caccount_name%2Camount%2Csource_document_id&limit=50 "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_documents?select=id%2Cfilename "HTTP/2 200 OK"
INFO:     127.0.0.1:57912 - "GET /api/v1/dashboard/knowledge-graph HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id%2Cclass_id%2Clabel%2Cproperties&status=eq.pending_review "HTTP/2 200 OK"
INFO:     127.0.0.1:59540 - "GET /api/v1/dashboard/approvals HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_documents?select=id%2Cfilename%2Ccontent_type%2Cfile_size%2Cprocessing_status%2Ccreated_at%2Cuploaded_by&order=created_at.desc "HTTP/2 200 OK"
INFO:     127.0.0.1:53142 - "GET /api/v1/dashboard/documents HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_documents?select=id "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?select=id "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_datasets?select=id "HTTP/2 200 OK"
INFO:     127.0.0.1:59544 - "GET /api/v1/dashboard/stats HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id%2Cclass_id%2Clabel%2Cclass_type%2Cstatus&order=class_id.asc "HTTP/2 200 OK"
INFO:     127.0.0.1:59528 - "GET /api/v1/dashboard/ontology/classes HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_documents?select=id "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?select=id "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_datasets?select=id "HTTP/2 200 OK"
INFO:     127.0.0.1:57912 - "GET /api/v1/dashboard/stats HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?select=observation_type%2Camount&observation_type=in.%28expense_category%2Ccost_of_goods_sold%2Cnon_operating_expense%29 "HTTP/2 200 OK"
INFO:     127.0.0.1:59544 - "GET /api/v1/dashboard/expense-breakdown HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?select=period_start%2Camount&observation_type=eq.revenue_stream&order=period_start.asc "HTTP/2 200 OK"
INFO:     127.0.0.1:53142 - "GET /api/v1/dashboard/revenue-trends HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?select=observation_type%2Caccount_name%2Camount%2Ccurrency%2Cperiod_start%2Cperiod_end&order=created_at.desc&limit=10 "HTTP/2 200 OK"
INFO:     127.0.0.1:57922 - "GET /api/v1/dashboard/recent-observations HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id%2Cclass_id%2Clabel%2Cclass_type%2Cstatus&order=class_id.asc "HTTP/2 200 OK"
INFO:     127.0.0.1:59528 - "GET /api/v1/dashboard/ontology/classes HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?select=observation_type%2Camount&observation_type=in.%28expense_category%2Ccost_of_goods_sold%2Cnon_operating_expense%29 "HTTP/2 200 OK"
INFO:     127.0.0.1:53142 - "GET /api/v1/dashboard/expense-breakdown HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?select=observation_type%2Caccount_name%2Camount%2Ccurrency%2Cperiod_start%2Cperiod_end&order=created_at.desc&limit=10 "HTTP/2 200 OK"
INFO:     127.0.0.1:57922 - "GET /api/v1/dashboard/recent-observations HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?select=period_start%2Camount&observation_type=eq.revenue_stream&order=period_start.asc "HTTP/2 200 OK"
INFO:     127.0.0.1:59544 - "GET /api/v1/dashboard/revenue-trends HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id%2Cclass_id%2Clabel%2Cproperties&status=eq.pending_review "HTTP/2 200 OK"
INFO:     127.0.0.1:57912 - "GET /api/v1/dashboard/approvals HTTP/1.1" 200 OK
HTTP Request: PATCH https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?id=eq.3a17ffa7-2ad5-42f4-b20c-4e518aa16ddf "HTTP/2 200 OK"
INFO:     127.0.0.1:59544 - "POST /api/v1/dashboard/ontology/classes/3a17ffa7-2ad5-42f4-b20c-4e518aa16ddf/approve HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id%2Cclass_id%2Clabel%2Cclass_type%2Cstatus&order=class_id.asc "HTTP/2 200 OK"
INFO:     127.0.0.1:59544 - "GET /api/v1/dashboard/ontology/classes HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id%2Cclass_id%2Clabel%2Cproperties&status=eq.pending_review "HTTP/2 200 OK"
INFO:     127.0.0.1:57912 - "GET /api/v1/dashboard/approvals HTTP/1.1" 200 OK
HTTP Request: PATCH https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?id=eq.01b53bb6-014d-4162-b26a-281e51a3c5cb "HTTP/2 200 OK"
INFO:     127.0.0.1:57912 - "POST /api/v1/dashboard/ontology/classes/01b53bb6-014d-4162-b26a-281e51a3c5cb/approve HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id%2Cclass_id%2Clabel%2Cclass_type%2Cstatus&order=class_id.asc "HTTP/2 200 OK"
INFO:     127.0.0.1:57912 - "GET /api/v1/dashboard/ontology/classes HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id%2Cclass_id%2Clabel%2Cproperties&status=eq.pending_review "HTTP/2 200 OK"
INFO:     127.0.0.1:59544 - "GET /api/v1/dashboard/approvals HTTP/1.1" 200 OK
HTTP Request: PATCH https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?id=eq.aefc03fc-a2c4-4d5a-af66-46b7b04b3a72 "HTTP/2 200 OK"
INFO:     127.0.0.1:57912 - "POST /api/v1/dashboard/ontology/classes/aefc03fc-a2c4-4d5a-af66-46b7b04b3a72/approve HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id%2Cclass_id%2Clabel%2Cclass_type%2Cstatus&order=class_id.asc "HTTP/2 200 OK"
INFO:     127.0.0.1:57912 - "GET /api/v1/dashboard/ontology/classes HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id%2Cclass_id%2Clabel%2Cproperties&status=eq.pending_review "HTTP/2 200 OK"
INFO:     127.0.0.1:59544 - "GET /api/v1/dashboard/approvals HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_documents?select=id "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?select=id "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_datasets?select=id "HTTP/2 200 OK"
INFO:     127.0.0.1:57912 - "GET /api/v1/dashboard/stats HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id%2Cclass_id%2Clabel%2Cclass_type%2Cstatus&order=class_id.asc "HTTP/2 200 OK"
INFO:     127.0.0.1:59544 - "GET /api/v1/dashboard/ontology/classes HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?select=period_start%2Camount&observation_type=eq.revenue_stream&order=period_start.asc "HTTP/2 200 OK"
INFO:     127.0.0.1:57912 - "GET /api/v1/dashboard/revenue-trends HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?select=observation_type%2Caccount_name%2Camount%2Ccurrency%2Cperiod_start%2Cperiod_end&order=created_at.desc&limit=10 "HTTP/2 200 OK"
INFO:     127.0.0.1:52238 - "GET /api/v1/dashboard/recent-observations HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?select=observation_type%2Camount&observation_type=in.%28expense_category%2Ccost_of_goods_sold%2Cnon_operating_expense%29 "HTTP/2 200 OK"
INFO:     127.0.0.1:52242 - "GET /api/v1/dashboard/expense-breakdown HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id%2Cclass_id%2Clabel%2Cclass_type "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?select=id%2Cobservation_type%2Caccount_name%2Camount%2Csource_document_id&limit=50 "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_documents?select=id%2Cfilename "HTTP/2 200 OK"
INFO:     127.0.0.1:52238 - "GET /api/v1/dashboard/knowledge-graph HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id%2Cclass_id%2Clabel%2Cclass_type%2Cstatus&order=class_id.asc "HTTP/2 200 OK"
INFO:     127.0.0.1:55512 - "GET /api/v1/dashboard/ontology/classes HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id%2Cclass_id%2Clabel%2Cclass_type%2Cstatus&order=class_id.asc "HTTP/2 200 OK"
INFO:     127.0.0.1:55512 - "GET /api/v1/dashboard/ontology/classes HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id%2Cclass_id%2Clabel%2Cclass_type "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?select=id%2Cobservation_type%2Caccount_name%2Camount%2Csource_document_id&limit=50 "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_documents?select=id%2Cfilename "HTTP/2 200 OK"
INFO:     127.0.0.1:55512 - "GET /api/v1/dashboard/knowledge-graph HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_documents?select=id%2Cfilename%2Ccontent_type%2Cfile_size%2Cprocessing_status%2Ccreated_at%2Cuploaded_by&order=created_at.desc "HTTP/2 200 OK"
INFO:     127.0.0.1:55528 - "GET /api/v1/dashboard/documents HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id%2Cclass_id%2Clabel%2Cproperties&status=eq.pending_review "HTTP/2 200 OK"
INFO:     127.0.0.1:55528 - "GET /api/v1/dashboard/approvals HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_documents?select=id%2Cfilename%2Ccontent_type%2Cfile_size%2Cprocessing_status%2Ccreated_at%2Cuploaded_by&order=created_at.desc "HTTP/2 200 OK"
INFO:     127.0.0.1:32914 - "GET /api/v1/dashboard/documents HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id%2Cclass_id%2Clabel%2Cclass_type "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_financial_observations?select=id%2Cobservation_type%2Caccount_name%2Camount%2Csource_document_id&limit=50 "HTTP/2 200 OK"
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_documents?select=id%2Cfilename "HTTP/2 200 OK"
INFO:     127.0.0.1:32914 - "GET /api/v1/dashboard/knowledge-graph HTTP/1.1" 200 OK
HTTP Request: GET https://zafvnssmznpeurboybnd.supabase.co/rest/v1/kudwa_ontology_classes?select=id%2Cclass_id%2Clabel%2Cclass_type%2Cstatus&order=class_id.asc "HTTP/2 200 OK"
INFO:     127.0.0.1:55528 - "GET /api/v1/dashboard/ontology/classes HTTP/1.1" 200 OK
INFO:     127.0.0.1:54470 - "POST /api/v1/dashboard/chat/message HTTP/1.1" 200 OK
